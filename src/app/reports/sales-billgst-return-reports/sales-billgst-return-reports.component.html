<mat-card>
  <mat-card-content>
    <div
      class="container-fluid mt-3"
      style="page-break-after: avoid"
      id="_print_section"
    >
      <div class="row rowdiv">
        <div class="col-sm-3 ml-4 mt-3">
          <div class="font-weight-bold">
            GST IN:<span class="text-info ml-1">{{ parent?.gst_in }}</span>
          </div>
          <div class="font-weight-bold">
            STATE:<span class="text-info ml-1">{{ parent?.state }}</span>
          </div>
          <div class="font-weight-bold">
            STATE CODE:<span class="text-info ml-1">{{
              parent?.state_code
            }}</span>
          </div>
          <div class="font-weight-bold">
            INVOICE NO:<span class="text-info ml-1">{{ parent?.invoice_no }}</span>
          </div>
        </div>

        <div class="col-sm-4 ml-3 mt-3">
          <ng-container *ngFor="let item of activeCompanyDetails">
            <address>
              <div
                class="font-weight-bold text-danger text-center mb-1"
                style="font-size: x-large"
              >
                {{ item.company_name | uppercase }}
              </div>
              <div
                class="font-weight-bold mt-1 mr-1 text-start w-100 text-nowrap"
                style="font-size: large"
              >
                {{ item.street_name | uppercase }},{{
                  item.c_location | uppercase
                }}
              </div>
              <div
                class="font-weight-bold mt-1 ml-1 text-center text-nowrap"
                style="font-size: medium"
              >
                {{ item.taluk | uppercase }} TALUK,
                {{ item.district | uppercase }}
              </div>
              <div
                class="font-weight-bold mt-1 text-center text-nowrap"
                style="font-size: medium"
              >
                {{ item.pincode }}
              </div>
            </address>
          </ng-container>
        </div>

        <div class="col-sm-3 mt-3 ml-5">
          <ng-container *ngFor="let item of activeCompanyDetails">
            <div class="ml-3">
              <div class="font-weight-bold">
                <div class="ml-5">CELL: {{ item.mobile }}</div>
                <div class="font-weight-bold ml-5">CELL: {{ item.mobile }}</div>

                <div class="ml-5">OFC NO: {{ item.office_phno }}</div>
                <div class="font-weight-bold ml-5">
                  INVCE DT:<span class="text-info ml-1">{{
                    parent?.invoice_date
                  }}</span>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
      <div class="col-sm-12 mt-3">
        <div class="table-responsive">
          <table class="table table-bordered" style="margin-bottom: 0">
            <thead>
              <tr style="height: 30px">
                <th
                  style="
                  width: 50%;
                    text-align: center;
                    line-height: 30px;
                    font-size: large;
                  "
                >
                  DETAILS OF RECEIVER
                </th>
                <th
                  style="
                  width: 50%;
                    text-align: center;
                    line-height: 30px;
                    font-size: large;
                  "
                >
                  DETAILS OF CONSIGNEE
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="font-weight-bold" style="font-size: medium">
                  COMPANY NAME :<span class="font-weight-normal ml-1">{{ActiveCompanyName}}</span>
                </td>
                <td class="font-weight-bold" style="font-size: medium">
                  CUSTOMER NAME :<span class="font-weight-normal ml-1">{{
                    parent?.customer_name
                  }}</span>
                </td>
              </tr>
              <tr>
                <td class="font-weight-bold" style="font-size: medium">
                  SHIPPING ADDRESS :<span class="font-weight-normal ml-1">{{
                    parent?.billing_address
                  }}</span>
                </td>
                <td class="font-weight-bold" style="font-size: medium">
                  BILLING ADDRESS :<span class="font-weight-normal ml-1">{{
                    parent?.shipping_address
                  }}</span>
                </td>
              </tr>
              <tr>
                <td class="font-weight-bold" style="font-size: medium">
                  ADDRESS 2 :
                </td>
                <td class="font-weight-bold" style="font-size: medium">
                  ADDRESS 2 :
                </td>
              </tr>
              <tr>
                <td class="font-weight-bold" style="font-size: medium">
                  GST IN :
                  <span class="ml-1 font-weight-normal"></span>
                </td>
                <td class="font-weight-bold" style="font-size: medium">
                  GST IN :
                  <span class="ml-1 font-weight-normal">{{
                    parent?.gst_in
                  }}</span>
                </td>
              </tr>
              <tr>
                <td
                  class="font-weight-bold"
                  style="display: flex; font-size: medium"
                >
                  <div>
                    STATE :<span class="ml-1 font-weight-normal"></span>
                  </div>
                  <div style="margin-left: 50%">
                    STATE CODE :<span class="ml-1 font-weight-normal"></span>
                  </div>
                </td>
                <td class="font-weight-bold" style="font-size: medium">
                  <span class="font-weight-bold"
                    >STATE :<span class="font-weight-normal">{{
                      parent?.state
                    }}</span></span
                  >

                  <span class="font-weight-bold" style="margin-left: 40%">
                    STATE CODE :<span class="font-weight-normal">{{
                      parent?.state_code
                    }}</span
                  ></span>
                </td>
              </tr>
            </tbody>
            <tr></tr>
          </table>
          <table
            class="table table-bordered table-responsive"
            style="margin-bottom: 0"
          >
            <thead>
              <tr>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  S.No
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  Item Code
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  Item Name
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  HSN/SAC
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  Gst %
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  Dis %
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  Qty
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                  Return Qty
                </th>
                <th style="width: 5%; font-size: medium; white-space: nowrap">
                 Return Total
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let child of childArray; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ child.si_code }}</td>
                <td>{{ child.item_name }}</td>
                <td>{{ child.hsn_number }}</td>
                <td>{{ child.gst_percentage }} %</td>
                <td>{{child.discount}} %</td>
                <td>{{ child.qty }}</td>
                <td>{{ child.return_qty }}</td>
                <td>{{ child.return_total }}</td>
              </tr>
            </tbody>
            <tbody>
              <tr>
                <th
                  style="text-align: right;padding: 8px !important;"
                  class="pr-5 text-primary"
                  colspan="6"
                >
                  Total
                </th>
                <td style="text-align: center;vertical-align: middle;">{{ totalQty }}</td>
                <td style="text-align: center;vertical-align: middle;">{{ totalReturnQty }}</td>
                <td style="text-align: center;vertical-align: middle;">{{ totalAmount }}</td>
              </tr>
            </tbody>
          </table>
          <table class="table table-bordered" style="margin-bottom: 0">
            <tbody>
              <tr>
                <th style="width: 70%; font-size:medium;text-align: center;vertical-align: middle ;" rowspan="2">

                    <span class="text-info"
                      >Total Invoice Amount in Words : </span
                    >{{ numberInWords | uppercase }}

                </th>
                <td style="width: 15%; text-align: right;">
                  <span class="text-primary font-weight-bold"
                    >Total Discount</span
                  >
                </td>
                <td style="width: 15%; padding-top: 1.5%;padding: 8px !important;">
                  <span class="font-weight-bold ml-2">{{
                    totalDiscountAmount
                  }}</span>
                </td>
              </tr>
              <tr>
                <td style="text-align: right;padding: 8px !important; ">
                  <span class="text-primary font-weight-bold">Total CGST </span>
                </td>
                <td>
                  <span class="font-weight-bold ml-2">{{ totalCgstAmount }}</span>
                </td>
              </tr>
              <tr>
                <td rowspan="5" style="vertical-align: middle;">
                  <span
                    class="font-weight-bold text-success"
                    style="text-decoration: underline;"
                    >Transport Details</span
                  ><br />

                  <span class="font-weight-bold"> Transport Name : </span><br />
                  <span class="font-weight-bold"> L.R No : </span><br />
                  <span class="font-weight-bold"> No.Of Pack : </span>
                </td>
                <td style="text-align: right;padding: 8px !important;">
                  <span class="text-primary font-weight-bold">Total SGST </span>
                </td>
                <td>
                  <span  style="padding: 8px !important;" class="font-weight-bold">{{ totalSgstAmount }}</span>
                </td>
              </tr>
              <tr>
                <td style="text-align: right;padding: 8px !important; ">
                  <span class="text-primary font-weight-bold">Total IGST</span>
                </td>
                <td>
                  <span style="padding: 8px !important; " class="font-weight-bold ml-1">{{ totalIgstAmount }}</span>
                </td>
              </tr>
              <tr>
                <td style="text-align: right;padding: 8px !important;">
                  <span class="text-primary font-weight-bold">Total GST</span>
                </td>
                <td style="padding: 8px !important;">
                  <span class="font-weight-bold  ml-2">{{ totalGstAmount }}</span>
                </td>
              </tr>
              <tr>
                <td style="text-align: right;padding: 8px !important">
                  <span class="text-primary font-weight-bold">Net Total</span>
                </td>
                <td>
                  <span class="font-weight-bold ml-2">{{ netTotal }}</span>
                </td>
              </tr>
            </tbody>
          </table>
          <table class="table table-bordered" style="margin-bottom: 0">
            <tr>
              <td>
                <span
                  class="text-info font-weight-bold"
                  style="text-decoration: underline"
                  >Bank Details</span
                >
              </td>
              <td rowspan="5" style="width: 33%">(seal)</td>
              <td rowspan="5" style="width: 33%">
                <span class="font-weight-bold text-danger"
                *ngFor="let item of activeCompanyDetails"
                  >For {{item.company_name}}</span
                >
                <span style="position: absolute; bottom: 0; right: 10%"
                  >Authorised Signatory</span
                >
              </td>
            </tr>
            <tr style="width: 33%">
              <td><span class="font-weight-bold">A/C No :</span></td>
            </tr>
            <tr>
              <td><span class="font-weight-bold">Bank Name :</span></td>
            </tr>
            <tr></tr>
            <tr>
              <td><span class="font-weight-bold">IFSC Code :</span></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </mat-card-content>
</mat-card>
<div
  style="display: flex; justify-content: center; align-items: center"
  class="mt-3"
>
  <button
    class="threebut"
    mat-raised-button
    color="primary"
    printSectionId="_print_section"
    ngxPrint
    [useExistingCss]="true"
  >
    Print
  </button>
  <button (click)="closedialog()" class="btn btn-danger ml-2">Cancel</button>
</div>
