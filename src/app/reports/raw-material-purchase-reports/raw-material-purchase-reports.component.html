<div
  class="container-fluid mt-2"
  style="page-break-after: avoid"
  id="_print_section"
>
  <div class="row">
    <div class="col-sm-3">
      <div>
        <b>GST IN : </b><span class="text-info">{{ gst_in }}</span>
      </div>
      <div *ngFor="let item of activeCompanyDetails">
        <img
          src="{{ item.logo }}"
          alt="companylogo"
          width="100px"
          height="100px"
        />
      </div>
    </div>

    <div class="col-sm-6 text-primary" style="text-align: center">
      <ng-container *ngFor="let item of activeCompanyDetails">
        <address>
          <div style="font-size: x-large; font-family: Georgia; color: red">
            {{ item.company_name | uppercase }}
          </div>
          <div style="font-size: 16px">
            {{ item.street_name | uppercase }},{{ item.c_location | uppercase }}
          </div>
          <div style="font-size: 16px">
            {{ item.taluk | uppercase }} TALUK,
            {{ item.district | uppercase }} - {{ item.pincode }}
          </div>
        </address>
      </ng-container>
    </div>

    <div class="col-sm-3">
      <svg
        style="
          width: 30px;
          height: 30px;
          float: right;
          cursor: pointer;
          z-index: 3;
        "
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        class="bi bi-cancel cancelbtn"
        viewBox="0 0 16 16"
        (click)="closedialog()"
      >
        <path
          fill-rule="evenodd"
          fill="red"
          d="M9.78 8l3.61-3.61a.75.75 0 0 0-1.06-1.06L8.72 6.94 5.11 3.33a.75.75 0 0 0-1.06 1.06l3.61 3.61-3.61 3.61a.75.75 0 1 0 1.06 1.06l3.61-3.61 3.61 3.61a.75.75 0 1 0 1.06-1.06L10.84 8z"
        />
      </svg>
      <ng-container *ngFor="let item of activeCompanyDetails">
        <div>
          <div><b>CELL : </b>{{ item.mobile }}</div>
          <div><b>OFC NO : </b>{{ item.office_phno }}</div>
          <div>
            <b>INVCE DT : </b><span>{{ date }}</span>
          </div>
        </div>
      </ng-container>
    </div>
  </div>

  <div class="col-sm-12">
    <div class="table-responsive">
      <table class="table table-bordered" style="margin-bottom: 0">
        <thead>
          <tr style="height: 30px">
            <th colspan="2" style="width: 50%; text-align: center">
              DETAILS OF RECEIVER
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th style="text-align: left">CUSTOMER NAME</th>
            <td>
              <span class="ml-1">{{ customer_name | uppercase }}</span>
            </td>
          </tr>
          <tr>
            <th style="text-align: left">SHIPPING ADDRESS</th>
            <td>
              <span class="ml-1">{{
                shipping_address || cust_ship_address | uppercase
              }}</span>
            </td>
          </tr>
          <tr>
            <th style="text-align: left">GST IN</th>
            <td>
              <span class="ml-1">{{ gst_in }}</span>
            </td>
          </tr>
          <tr>
            <th style="text-align: left">STATE</th>
            <td>
              <span class="ml-1">{{ state }}</span>
            </td>
          </tr>
          <tr>
            <th style="text-align: left">STATE CODE</th>
            <td>
              <span class="ml-1">{{ state_code }}</span>
            </td>
          </tr>
        </tbody>
      </table>
      <table
        class="table table-bordered table-sm table-responsive"
        style="margin-bottom: 0"
      >
        <thead>
          <tr>
            <th style="width: 0.1%">S.No</th>
            <th style="width: 5%">Item Code</th>
            <th style="width: 0.2%">HSN/SAC</th>
            <th style="width: 0.5%">Gst %</th>
            <th style="width: 0.5%">Dis %</th>
            <th style="width: 0.5%">Qty</th>
            <th style="width: 2%">Price</th>
            <th style="width: 2%">Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of rawMaterialPurchaseList; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ item.si_code }}</td>
            <td style="text-align: center">{{ item.hsn_number }}</td>
            <td style="text-align: center">{{ item.gst_percentage }} %</td>
            <td style="text-align: center">{{ item.discount }} %</td>
            <td style="text-align: center">{{ item.qty }}</td>
            <td style="text-align: center">{{ item.price }}</td>
            <td style="text-align: center">{{ item.n_total }}</td>
          </tr>
        </tbody>
        <tbody>
          <tr>
            <th
              style="text-align: right; padding: 8px !important"
              class="pr-5 text-primary"
              colspan="5"
            >
              Total
            </th>
            <td style="text-align: center; vertical-align: middle">
              {{ totalQty }}
            </td>
            <td style="text-align: center; vertical-align: middle">
              {{ totalPrice }}
            </td>
            <td style="text-align: center; vertical-align: middle">
              {{ totalAmount }}
            </td>
          </tr>
        </tbody>
      </table>
      <table class="table table-bordered table-sm" style="margin-bottom: 0">
        <tbody>
          <tr>
            <th style="text-align: center; vertical-align: middle" rowspan="2">
              <span class="text-info">Total Invoice Amount in Words : </span
              >{{ numberInWords | uppercase }}
            </th>
            <td style="width: 15%; text-align: right">
              <span class="text-primary font-weight-bold">Total Discount</span>
            </td>
            <td style="width: 15%; padding-top: 1.5%; padding: 8px !important">
              <span class="font-weight-bold ml-2">{{
                totalDiscountAmount
              }}</span>
            </td>
          </tr>
          <tr>
            <td style="text-align: right; padding: 8px !important">
              <span class="text-primary font-weight-bold">Total CGST </span>
            </td>
            <td>
              <span class="font-weight-bold ml-2">{{ totalCgstAmount }}</span>
            </td>
          </tr>
          <tr>
            <td rowspan="5" style="vertical-align: middle">
              <span
                class="font-weight-bold text-success"
                style="text-decoration: underline"
                >Transport Details</span
              ><br />

              <span class="font-weight-bold"> Transport Name : </span><br />
              <span class="font-weight-bold"> L.R No : </span><br />
              <span class="font-weight-bold"> No.Of Pack : </span>
            </td>
            <td style="text-align: right; padding: 8px !important">
              <span class="text-primary font-weight-bold">Total SGST </span>
            </td>
            <td>
              <span style="padding: 8px !important" class="font-weight-bold">{{
                totalSgstAmount
              }}</span>
            </td>
          </tr>
          <tr>
            <td style="text-align: right; padding: 8px !important">
              <span class="text-primary font-weight-bold">Total IGST</span>
            </td>
            <td>
              <span
                style="padding: 8px !important"
                class="font-weight-bold ml-1"
                >{{ totalIgstAmount }}</span
              >
            </td>
          </tr>
          <tr>
            <td style="text-align: right; padding: 8px !important">
              <span class="text-primary font-weight-bold">Total GST</span>
            </td>
            <td style="padding: 8px !important">
              <span class="font-weight-bold ml-2">{{ totalGstAmount }}</span>
            </td>
          </tr>
          <tr>
            <td style="text-align: right; padding: 8px !important">
              <span class="text-primary font-weight-bold">Net Total</span>
            </td>
            <td>
              <span class="font-weight-bold ml-2">{{ netTotal }}</span>
            </td>
          </tr>
        </tbody>
      </table>
      <table class="table table-bordered table-sm" style="margin-bottom: 0">
        <tr>
          <td>
            <span
              class="text-info font-weight-bold"
              style="text-decoration: underline"
              >Bank Details</span
            >
          </td>
          <td rowspan="5" style="width: 33%">(seal)</td>
          <td rowspan="5" style="width: 33%">
            <span
              class="font-weight-bold text-danger"
              *ngFor="let item of activeCompanyDetails"
              >For {{ item.company_name }}</span
            >
            <span style="position: absolute; bottom: 0; right: 10%"
              >Authorised Signatory</span
            >
          </td>
        </tr>
        <tr style="width: 33%">
          <td><span class="font-weight-bold">A/C No :</span></td>
        </tr>
        <tr>
          <td><span class="font-weight-bold">Bank Name :</span></td>
        </tr>
        <tr></tr>
        <tr>
          <td><span class="font-weight-bold">IFSC Code :</span></td>
        </tr>
      </table>
    </div>
  </div>
</div>
<div
  style="display: flex; justify-content: center; align-items: center"
  class="mt-3"
>
  <button
    style="height: 31px; width: 62px"
    class="btn threebut btn-primary"
    mat-raised-button
    color="primary"
    printSectionId="_print_section"
    ngxPrint
    [useExistingCss]="true"
  >
    Print
  </button>
  <button (click)="closedialog()" class="btn btn-danger btn-sm ml-2">
    Cancel
  </button>
</div>
